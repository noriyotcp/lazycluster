# Technology Context: LazyCluster

## Technologies Used

- **Primary Language:** TypeScript

  - Used for all extension logic, UI components, and build tooling.
  - Provides strong typing, improved code organization, and better maintainability.

- **UI Framework:** React (v19)

  - Used for building the user interfaces for both the Manager Tab and the Popup.
  - Component-based architecture facilitates modular UI development and reusability.
  - React Hooks are used for managing component state and side effects.

  - **Styling Library:** Tailwind CSS

    - Used for styling the UI components in the `manager` entrypoint.
    - Utility-first CSS framework that allows for rapid UI development and consistent styling.
    - Replaces traditional CSS for component styling in the `manager` entrypoint.
    - A separate base CSS stylesheet is used for application-wide styles, loaded before entrypoint-specific styles to ensure consistent styling across the extension (manager and popup).

- **Web Extension Framework:** WXT (Web Extension Toolkit)

  - A modern web extension framework that simplifies development, building, and packaging of browser extensions.
  - Provides Vite integration for fast development and Hot Module Replacement (HMR).
  - Handles manifest generation, cross-browser compatibility, and simplifies common extension development tasks.

- **Bundler/Build Tool:** Vite (via WXT)

  - Next-generation frontend tooling that provides extremely fast development experience and optimized builds.
  - Handles module bundling, code transformation, and asset optimization.

- **Linting:** ESLint

  - Used for static code analysis to identify and fix code style issues, potential bugs, and enforce code quality.
  - Configured with recommended React and TypeScript rules, and integrated with Prettier for code formatting.

- **Formatting:** Prettier

  - Used for automatic code formatting to maintain consistent code style across the project.
  - Integrates with ESLint to ensure code style consistency.

- **Manifest:** manifest.json (generated by WXT)
  - Defines the extension's metadata, permissions, background scripts, UI components, and other configurations required by the browser.
  - WXT simplifies manifest management and ensures proper configuration for Chrome and Firefox.

## Development Setup

1. **Prerequisites:**

   - Node.js (>= 18) and npm (or yarn/pnpm)
   - VSCode or another preferred code editor

2. **Installation:**

   - Clone the repository.
   - Run `npm install` to install project dependencies.

3. **Development Workflow:**

   - Use `npm run dev` to start the development server with Hot Module Replacement.
   - Open Chrome and navigate to `chrome://extensions/`.
   - Enable "Developer mode" in the top right corner.
   - Make code changes in `src/`, `entrypoints/`, etc. - changes will be automatically reflected in the browser.

4. **Building and Packaging:**
   - Run `npm run build` to create a production build in the `dist/` directory.
   - Run `npm run zip` to create a zipped package for distribution (e.g., for uploading to the Chrome Web Store).

## Technical Constraints & Considerations

- **Browser Compatibility:** Targeting Chromium-based browsers (Chrome, Edge, Brave, etc.) primarily. Firefox compatibility is considered but secondary.
- **Chrome Extension API Limitations:** Working within the constraints of the Chrome Extension APIs. Some features from the original "cluster" extension might not be directly replicable due to API changes or limitations.
- **Performance:** Need to ensure the extension is performant and does not introduce significant overhead to browser performance, especially with a large number of tabs and windows.
- **Security:** Adhering to web extension security best practices to prevent vulnerabilities and ensure user privacy.
- **Manifest Permissions:** Requesting only necessary permissions in the manifest to minimize security risks and user privacy concerns.
- **Favicon:** Ensuring the extension's favicon is correctly displayed in the manager tab.
- **Manifest Description:** The manifest.json description will be updated to accurately reflect the extension's purpose as 'lazycluster'.
- **Dev Mode Data Persistence:** Utilizing WXT's configuration options to persist data during development mode for easier testing and debugging.
